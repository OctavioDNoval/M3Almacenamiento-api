<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recordatorio de Pago Baulera</title>
    <!-- Solo estilos muy básicos que algunos clientes aceptan -->
    <style>
        /* Solo estilos de texto */
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }

        /* Ocultar en algunos clientes que no soportan media queries */
        .mobile-hide { display: block; }
        @media only screen and (max-width: 480px) {
            .mobile-hide { display: none; }
        }

        /* Estilos para resaltar montos */
        .monto-destacado {
            color: #28a745;
            font-weight: bold;
        }

        .deuda-total {
            font-size: 32px;
            font-weight: bold;
            color: #162d5a;
        }

        .mes-actual {
            color: #666;
            font-style: italic;
        }

        .info-box {
            background-color: #f8f9fa;
            border-left: 4px solid #162d5a;
        }
    </style>
</head>
<body style="margin: 0; padding: 0; background-color: #f4f4f4; font-family: Arial, sans-serif;">

<!-- WRAPPER - Usar tabla para máxima compatibilidad -->
<table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#f4f4f4">
    <tr>
        <td align="center">
            <!-- CONTENEDOR PRINCIPAL - Ancho fijo para email -->
            <table width="100%" cellpadding="0" cellspacing="0" border="0" bgcolor="#ffffff" style="max-width: 600px; margin: 20px auto; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">

                <!-- HEADER CON LOGO -->
                <tr>
                    <td align="center" bgcolor="#162d5a" style="padding: 20px;">
                        <img th:if="${logoBase64 != null and logoBase64 != ''}"
                             th:src="${logoBase64}"
                             alt="M3 Almacenamiento"
                             width="200"
                             height="50"
                             style="display: block; width: 200px; height: auto; max-width: 200px; border: 0; outline: none;"
                             border="0">
                    </td>
                </tr>

                <!-- TÍTULO PRINCIPAL -->
                <tr>
                    <td style="padding: 30px 20px 10px; text-align: center;">
                        <h1 style="margin: 0; color: #162d5a; font-size: 24px;">
                            Recordatorio de Pago
                        </h1>
                        <p class="mes-actual" style="margin: 5px 0 0 0; font-size: 14px;"
                           th:text="${mes}">
                            Mes actual
                        </p>
                    </td>
                </tr>

                <!-- SALUDO -->
                <tr>
                    <td style="padding: 15px 20px; text-align: center;">
                        <p style="margin: 0; font-size: 16px;">
                            Hola <strong th:text="${nombre}">Nombre</strong>,
                        </p>
                        <p style="margin: 10px 0 0 0; font-size: 16px;">
                            Este es el resumen de tu deuda correspondiente al mes actual.
                        </p>
                    </td>
                </tr>

                <!-- SECCIÓN DE DEUDA TOTAL -->
                <tr>
                    <td style="padding: 20px 20px 0;">
                        <table width="100%" cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td align="center" style="padding: 15px; background-color: #f8f9fa; border-radius: 8px;">
                                    <p style="margin: 0 0 10px 0; font-size: 16px; color: #666;">
                                        Deuda total acumulada:
                                    </p>
                                    <div class="deuda-total"
                                         th:text="'$' + ${#numbers.formatDecimal(deudaTotal, 1, 2, 'COMMA')}">
                                        $0.00
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>

                <!-- DETALLE DE CARGOS DEL MES -->
                <tr>
                    <td style="padding: 20px;">
                        <table width="100%" cellpadding="15" cellspacing="0" border="0"
                               style="border-collapse: collapse; border: 1px solid #e9ecef; border-radius: 8px;">
                            <tr>
                                <td colspan="2" style="padding-bottom: 10px; border-bottom: 1px solid #e9ecef;">
                                    <h3 style="margin: 0; color: #162d5a; font-size: 18px;">
                                        Cargos del mes actual
                                    </h3>
                                </td>
                            </tr>

                            <!-- INFORMACIÓN DE BAULERAS -->
                            <tr>
                                <td width="60%" style="padding: 10px 0; color: #666;">
                                    Baulera(s) a cargo:
                                </td>
                                <td width="40%" style="padding: 10px 0; text-align: right; font-weight: bold;">
                                    <span th:text="${nroBauleras}">
                                        1, 15
                                    </span>
                                </td>
                            </tr>

                            <!-- MONTO MENSUAL -->
                            <tr>
                                <td style="padding: 10px 0; color: #666;">
                                    Monto mensual:
                                </td>
                                <td style="padding: 10px 0; text-align: right;">
                                    <span class="monto-destacado"
                                          th:text="'$' + ${#numbers.formatDecimal(montoMensual, 1, 2, 'COMMA')}">
                                        $0.00
                                    </span>
                                </td>
                            </tr>

                            <!-- DEUDA ANTERIOR -->
                            <tr>
                                <td style="padding: 10px 0; color: #666;">
                                    Deuda anterior:
                                </td>
                                <td style="padding: 10px 0; text-align: right;">
                                    <span th:text="'$' + ${#numbers.formatDecimal(deudaAnterior, 1, 2, 'COMMA')}">
                                        $0.00
                                    </span>
                                </td>
                            </tr>

                            <!-- SEPARADOR -->
                            <tr>
                                <td colspan="2" style="padding: 5px 0; border-top: 1px solid #e9ecef;"></td>
                            </tr>

                            <!-- NUEVA DEUDA -->
                            <tr>
                                <td style="padding: 10px 0; font-weight: bold; color: #162d5a;">
                                    Nueva deuda total:
                                </td>
                                <td style="padding: 10px 0; text-align: right; font-weight: bold;">
                                    <span class="deuda-total" style="font-size: 18px;"
                                          th:text="'$' + ${#numbers.formatDecimal(deudaTotal, 1, 2, 'COMMA')}">
                                        $145,000.00
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>

                <!-- INFORMACIÓN IMPORTANTE -->
                <tr>
                    <td style="padding: 0 20px 20px;">
                        <table width="100%" cellpadding="15" cellspacing="0" border="0" class="info-box">
                            <tr>
                                <td>
                                    <p style="margin: 0; font-size: 14px; color: #666;">
                                        <strong>Importante:</strong> Este monto corresponde al cargo mensual por el uso de las bauleras.
                                        Para cualquier consulta o aclaración, por favor contactarnos.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>

                <!-- INFORMACIÓN DE CONTACTO -->
                <tr>
                    <td bgcolor="#162d5a" style="padding: 30px 20px; color: #ffffff;">
                        <table width="100%" cellpadding="0" cellspacing="0" border="0">
                            <tr>
                                <td align="center" style="padding: 5px 0;">
                                    <span style="color: #cccccc; font-size: 14px;"
                                          th:text="${emailContacto}">
                                        3AImagenamiento@gmail.com
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td align="center" style="padding: 5px 0;">
                                    <span style="color: #cccccc; font-size: 14px;"
                                          th:text="${telefonoContacto}">
                                        223422700
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td align="center" style="padding: 5px 0;">
                                    <span style="color: #cccccc; font-size: 14px;"
                                          th:text="${direccion}">
                                        República de Cuba 60, Mar del Plata
                                    </span>
                                </td>
                            </tr>
                            <tr>
                                <td align="center" style="padding: 5px 0;">
                                    <span style="color: #cccccc; font-size: 14px;"
                                          th:text="${horarioAtencion}">
                                        Lunes a viernes 10:00 - 14:00
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>

                <!-- FOOTER -->
                <tr>
                    <td style="padding: 15px 20px; text-align: center; background-color: #0d1c3d;">
                        <p style="margin: 0; color: #999999; font-size: 12px; font-style: italic;">
                            No válido como factura
                        </p>
                        <p style="margin: 5px 0 0 0; color: #999999; font-size: 10px;">
                            Este es un email automático, por favor no responda a este mensaje.
                        </p>
                    </td>
                </tr>

            </table>
        </td>
    </tr>
</table>

</body>
</html>